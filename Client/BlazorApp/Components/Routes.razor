<CascadingAuthenticationState>
    <Router AppAssembly="typeof(Program).Assembly">
        <Found Context="routeData">
            <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(Layout.MainLayout)">
                <NotAuthorized>
                    
                    <div class="not-authorized-container">
                        <img class="not-authorized-img" src="https://i.kym-cdn.com/entries/icons/original/000/002/144/You_Shall_Not_Pass!_0-1_screenshot.jpg" alt="Not Authorized" />
                        <p class="not-authorized-text">You'll have to log in!</p>
                        <button class="primary-button" @onclick="RedirectToLogin">Go to Login</button>
                    </div>
                </NotAuthorized>
            </AuthorizeRouteView>
            
            <RouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)" />
            <FocusOnNavigate RouteData="routeData" Selector="h1"/>
        </Found>
    </Router>
</CascadingAuthenticationState>

@code {
    [Inject] 
    private NavigationManager NavigationManager { get; set; }

    private void RedirectToLogin()
    {
        NavigationManager.NavigateTo("/login");
    }
}

<style>
    .not-authorized-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        text-align: center;
        background-color: #f8f9fa;
        padding: 20px;
    }
    
    .not-authorized-img {
        max-width: 80%;
        border-radius: 10px;
        margin-bottom: 20px;
    }
    
    .not-authorized-text {
        font-size: 1.5rem;
        color: #dc3545;
        font-weight: bold;
        margin-bottom: 20px;
    }
    
    .primary-button {
        background-color: #007bff;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 1.2rem;
        transition: background-color 0.3s;
    }

    .primary-button:hover {
        background-color: #0056b3;
    }
    
    body {
        overflow: hidden;
    }
    
</style>
